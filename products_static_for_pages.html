<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Robotech Store</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/Robotech-storeP2/static/css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    <span>Robotech Store</span>
                </div>

                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>

                <!-- Navigation -->
                <nav class="nav" id="mainNav">
                    <a href="/Robotech-storeP2/" class="nav-link">Home</a>
                    <div class="nav-dropdown">
                        <a href="/Robotech-storeP2/products_static_for_pages.html" class="nav-link dropdown-toggle active">Products â–¼</a>
                        <div class="dropdown-menu">
                            <div class="dropdown-column">
                                <h4>Components</h4>
                                <a href="#" onclick="filterByCategory('Resistors')">Resistors</a>
                                <a href="#" onclick="filterByCategory('Capacitors')">Capacitors</a>
                                <a href="#" onclick="filterByCategory('LEDs')">LEDs</a>
                                <a href="#" onclick="filterByCategory('Diodes')">Diodes</a>
                                <a href="#" onclick="filterByCategory('Transistors')">Transistors</a>
                            </div>
                            <div class="dropdown-column">
                                <h4>Development Boards</h4>
                                <a href="#" onclick="filterByCategory('Microcontrollers')">Microcontrollers</a>
                                <a href="#" onclick="filterByCategory('Arduino')">Arduino</a>
                                <a href="#" onclick="filterByCategory('Raspberry Pi')">Raspberry Pi</a>
                                <a href="#" onclick="filterByCategory('ESP')">ESP Boards</a>
                            </div>
                            <div class="dropdown-column">
                                <h4>Sensors</h4>
                                <a href="#" onclick="filterByCategory('Sensors')">All Sensors</a>
                                <a href="#" onclick="filterByCategory('Temperature Sensors')">Temperature</a>
                                <a href="#" onclick="filterByCategory('Motion Sensors')">Motion</a>
                                <a href="#" onclick="filterByCategory('Distance Sensors')">Distance</a>
                                <a href="#" onclick="filterByCategory('Light Sensors')">Light</a>
                            </div>
                        </div>
                    </div>
                    <a href="#categories" class="nav-link">Categories</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="#contact" class="nav-link">Contact</a>
                </nav>

                <!-- User Actions -->
                <div class="user-actions">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search components..." class="search-input">
                        <button class="search-btn"><i class="fas fa-search"></i></button>
                    </div>

                    <div class="action-buttons">
                        <div class="login-dropdown">
                            <button class="user-trigger">
                                <i class="fas fa-user"></i>
                                <span id="loginText">My User ID: Loading...</span>
                            </button>
                        </div>

                        <button class="btn-icon cart-btn" onclick="window.location.href='/Robotech-storeP2/cart'">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count" id="cartCount">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Products Section -->
    <section class="products-page">
        <div class="container">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <a href="/Robotech-storeP2/">Home</a> / <span>Products</span>
            </div>

            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">All Products</h1>
                <p class="page-subtitle">Browse our complete collection of electronics components</p>
            </div>

            <!-- Filters and Sorting -->
            <div class="products-controls">
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterByCategory('')">All</button>
                    <button class="filter-btn" onclick="filterByCategory('Microcontrollers')">Microcontrollers</button>
                    <button class="filter-btn" onclick="filterByCategory('Actuators')">Actuators</button>
                    <button class="filter-btn" onclick="filterByCategory('Sensors')">Sensors</button>
                    <button class="filter-btn" onclick="filterByCategory('Displays')">Displays</button>
                    <button class="filter-btn" onclick="filterByCategory('Power Supply')">Power Supply</button>
                    <button class="filter-btn" onclick="filterByCategory('Tools & Accessories')">Tools & Accessories</button>
                    <button class="filter-btn" onclick="filterByCategory('Audio Components')">Audio Components</button>
                    <select id="sortSelect" class="sort-select" onchange="sortProducts()">
                        <option value="name">Sort by Name</option>
                        <option value="price_low">Price: Low to High</option>
                        <option value="price_high">Price: High to Low</option>
                        <option value="newest">Newest First</option>
                    </select>
                </div>
            </div>

            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded dynamically -->
            </div>

            <!-- Loading Indicator -->
            <div class="loading-container" id="loadingContainer">
                <div class="loading-spinner"></div>
            </div>

            <!-- No Results -->
            <div class="no-results" id="noResults" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No products found</h3>
                <p>Try adjusting your search or browse our categories</p>
                <button class="btn btn-primary" onclick="window.location.href='/Robotech-storeP2/products_static_for_pages.html'">View All Products</button>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination" style="display: none;">
                <button class="page-btn" id="prevBtn" disabled><i class="fas fa-chevron-left"></i> Previous</button>
                <div class="page-numbers" id="pageNumbers"></div>
                <button class="page-btn" id="nextBtn"><i class="fas fa-chevron-right"></i> Next</button>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script>
        // Embedded products data for static GitHub Pages
        const ALL_PRODUCTS = [
    {
        "id": 11,
        "name": "Arduino Uno R3",
        "description": "ATmega328P microcontroller board with USB interface",
        "price": 450.0,
        "category": "Microcontrollers",
        "stock_quantity": 30,
        "image_url": "https://m.media-amazon.com/images/I/51+N-57gSiL.jpg",
        "is_featured": false
    },
    {
        "id": 12,
        "name": "ESP32 Development Board",
        "description": "WiFi & Bluetooth enabled microcontroller",
        "price": 350.0,
        "category": "Microcontrollers",
        "stock_quantity": 40,
        "image_url": "https://i.pinimg.com/736x/02/a1/01/02a101e95d5a8f6be9adca70e9d6f87e.jpg",
        "is_featured": false
    },
    {
        "id": 13,
        "name": "DHT11 Temperature & Humidity Sensor",
        "description": "Digital temperature and humidity sensor with 1-wire interface",
        "price": 45.0,
        "category": "Sensors",
        "stock_quantity": 100,
        "image_url": "https://i.pinimg.com/1200x/7b/c7/1e/7bc71ed8923c0ad6e8d7bcc115ef59de.jpg",
        "is_featured": false
    },
    {
        "id": 14,
        "name": "HC-SR04 Ultrasonic Sensor",
        "description": "Ultrasonic ranging sensor for distance measurement",
        "price": 85.0,
        "category": "Sensors",
        "stock_quantity": 75,
        "image_url": "https://i.pinimg.com/1200x/1d/84/dc/1d84dc4fb7a5ac5e2d9121911f4067da.jpg",
        "is_featured": false
    },
    {
        "id": 15,
        "name": "SG90 Servo Motor",
        "description": "9g micro servo motor for robotics",
        "price": 95.0,
        "category": "Actuators",
        "stock_quantity": 120,
        "image_url": "https://i.pinimg.com/736x/a6/c5/5a/a6c55a797bc6e00f4ca5c91b84afec98.jpg",
        "is_featured": false
    },
    {
        "id": 16,
        "name": "DC Motor",
        "description": "12V DC geared motor for robotics and automation projects",
        "price": 150.0,
        "category": "Actuators",
        "stock_quantity": 85,
        "image_url": "https://m.media-amazon.com/images/I/41OZaG+qvsL.jpg",
        "is_featured": false
    },
    {
        "id": 17,
        "name": "Stepper Motor",
        "description": "NEMA 17 stepper motor with 1.8Â° step angle for precision control",
        "price": 450.0,
        "category": "Actuators",
        "stock_quantity": 45,
        "image_url": "https://m.media-amazon.com/images/I/51fLU88NI6L.jpg",
        "is_featured": true
    },
    {
        "id": 18,
        "name": "LCD Crystal Display",
        "description": "16x2 character LCD display module with backlight",
        "price": 120.0,
        "category": "Displays",
        "stock_quantity": 85,
        "image_url": "https://i.pinimg.com/736x/55/fd/a1/55fda180c7904f25067c840a8302d0a7.jpg",
        "is_featured": false
    },
    {
        "id": 19,
        "name": "OLED Display",
        "description": "0.96 inch I2C OLED display module with 128x64 resolution",
        "price": 150.0,
        "category": "Displays",
        "stock_quantity": 60,
        "image_url": "https://i.pinimg.com/1200x/fd/ef/d4/fdefd4f32f98c1a2c6f15b71c12ecc75.jpg",
        "is_featured": false
    },
    {
        "id": 20,
        "name": "TFT Screen",
        "description": "2.8 inch TFT LCD color touch screen display",
        "price": 850.0,
        "category": "Displays",
        "stock_quantity": 25,
        "image_url": "https://i.pinimg.com/1200x/e4/d6/fa/e4d6fa1f834a4c26203690590de22ea4.jpg",
        "is_featured": true
    },
    {
        "id": 21,
        "name": "7-Segment Display",
        "description": "4-digit 7-segment display with decimal points",
        "price": 65.0,
        "category": "Displays",
        "stock_quantity": 80,
        "image_url": "https://i.pinimg.com/736x/31/a0/60/31a060caefe320fdf1108f364e681f1d.jpg",
        "is_featured": false
    },
    {
        "id": 22,
        "name": "E-paper Display",
        "description": "1.54 inch e-paper display for low power applications",
        "price": 650.0,
        "category": "Displays",
        "stock_quantity": 30,
        "image_url": "https://i.pinimg.com/1200x/50/5d/4a/505d4ab5dff8115c1dc1e2391ed6d1fb.jpg",
        "is_featured": false
    },
    {
        "id": 23,
        "name": "LED Matrix Display",
        "description": "8x8 LED matrix display with MAX7219 driver",
        "price": 95.0,
        "category": "Displays",
        "stock_quantity": 70,
        "image_url": "https://i.pinimg.com/736x/0f/b0/b1/0fb0b100bb886ac9f050213bef229042.jpg",
        "is_featured": false
    },
    {
        "id": 24,
        "name": "LCD Touchscreen Module",
        "description": "2.4 inch LCD touchscreen module for user interfaces",
        "price": 1200.0,
        "category": "Displays",
        "stock_quantity": 15,
        "image_url": "https://i.pinimg.com/1200x/f7/ba/f5/f7baf50e5993ccffc68e5387bda0b342.jpg",
        "is_featured": true
    },
    {
        "id": 25,
        "name": "2 Battery Holders",
        "description": "AA battery holder for 2 batteries in series",
        "price": 25.0,
        "category": "Power Supply",
        "stock_quantity": 150,
        "image_url": "https://i.pinimg.com/1200x/51/d7/f8/51d7f86c3ba3a7e9081902780d10d159.jpg",
        "is_featured": false
    },
    {
        "id": 26,
        "name": "3 Battery Holders",
        "description": "AA battery holder for 3 batteries in series",
        "price": 35.0,
        "category": "Power Supply",
        "stock_quantity": 120,
        "image_url": "https://i.pinimg.com/1200x/d6/ca/b6/d6cab6537f5899be3171be162f5b9fab.jpg",
        "is_featured": false
    },
    {
        "id": 27,
        "name": "DC-DC Converter",
        "description": "Adjustable DC-DC buck converter module 5V-35V",
        "price": 85.0,
        "category": "Power Supply",
        "stock_quantity": 90,
        "image_url": "https://i.pinimg.com/1200x/f9/f8/fb/f9f8fb91419f05a2436d0a3ca731586a.jpg",
        "is_featured": false
    },
    {
        "id": 28,
        "name": "Power Bank Module",
        "description": "18650 lithium battery power bank module",
        "price": 180.0,
        "category": "Power Supply",
        "stock_quantity": 60,
        "image_url": "https://i.pinimg.com/1200x/4c/45/0f/4c450f39f070b12698645d02dcf10a3a.jpg",
        "is_featured": false
    },
    {
        "id": 29,
        "name": "Breadboard",
        "description": "830 tie-point solderless breadboard for prototyping",
        "price": 85.0,
        "category": "Tools & Accessories",
        "stock_quantity": 120,
        "image_url": "https://i.pinimg.com/1200x/c6/2e/fe/c62efe7156acb4a732ee2a0985cdb1b0.jpg",
        "is_featured": false
    },
    {
        "id": 30,
        "name": "Male-Male Jumper Wires",
        "description": "40-piece male-to-male jumper wire set",
        "price": 45.0,
        "category": "Tools & Accessories",
        "stock_quantity": 200,
        "image_url": "https://i.pinimg.com/1200x/ef/20/2c/ef202c20c5b52e44bb7cef23d80d31ac.jpg",
        "is_featured": false
    },
    {
        "id": 31,
        "name": "Male-Female Jumper Wires",
        "description": "40-piece male-to-female jumper wire set",
        "price": 50.0,
        "category": "Tools & Accessories",
        "stock_quantity": 180,
        "image_url": "https://i.pinimg.com/1200x/fc/51/ee/fc51ee3784738477942608abcf9c8d21.jpg",
        "is_featured": false
    },
    {
        "id": 32,
        "name": "Lithium Polymer Battery",
        "description": "3.7V 1000mAh LiPo battery with JST connector",
        "price": 250.0,
        "category": "Power Supply",
        "stock_quantity": 75,
        "image_url": "https://i.pinimg.com/736x/da/53/f7/da53f7c21e5a4b9df6d544bacc1ff085.jpg",
        "is_featured": false
    },
    {
        "id": 33,
        "name": "PCB Prototyping Board",
        "description": "Double-sided PCB prototyping board with copper pads",
        "price": 120.0,
        "category": "Tools & Accessories",
        "stock_quantity": 100,
        "image_url": "https://i.pinimg.com/1200x/c0/e7/85/c0e785c8bcfadf88efbdd9bbfbb44e1f.jpg",
        "is_featured": false
    },
    {
        "id": 34,
        "name": "Nuts & Bolts Kit",
        "description": "Assorted nuts and bolts set for electronics projects",
        "price": 65.0,
        "category": "Tools & Accessories",
        "stock_quantity": 80,
        "image_url": "https://i.pinimg.com/1200x/51/f6/84/51f684e16602b2affc0016f1b32bbb0e.jpg",
        "is_featured": false
    },
    {
        "id": 38,
        "name": "Linear Voltage Regulator",
        "description": "LM7805 5V linear voltage regulator IC",
        "price": 15.0,
        "category": "Power Supply",
        "stock_quantity": 300,
        "image_url": "https://i.pinimg.com/736x/f1/ba/b4/f1bab45eff6c23f981b993006bd5fcd4.jpg",
        "is_featured": false
    },
    {
        "id": 39,
        "name": "Audio Adapter Board",
        "description": "Audio amplifier board with speaker connector",
        "price": 120.0,
        "category": "Audio Components",
        "stock_quantity": 50,
        "image_url": "https://i.pinimg.com/1200x/f5/25/29/f525292fb2911c4456c36024197caa1a.jpg",
        "is_featured": false
    },
    {
        "id": 40,
        "name": "USB Cable",
        "description": "USB 2.0 A to B cable for programming and data transfer",
        "price": 35.0,
        "category": "Tools & Accessories",
        "stock_quantity": 250,
        "image_url": "https://i.pinimg.com/736x/96/2a/9d/962a9d51a7b74ec70de4609d1f255f00.jpg",
        "is_featured": false
    },
    {
        "id": 41,
        "name": "Brushless DC Motor",
        "description": "High-efficiency brushless DC motor for precision applications",
        "price": 850.0,
        "category": "Actuators",
        "stock_quantity": 15,
        "image_url": "https://i.pinimg.com/1200x/f7/17/c3/f717c366e958fc149ff3c5139167afc2.jpg",
        "is_featured": false
    },
    {
        "id": 42,
        "name": "Bluetooth Controlled Linear Actuator",
        "description": "Wireless controlled linear motion actuator",
        "price": 2500.0,
        "category": "Actuators",
        "stock_quantity": 8,
        "image_url": "https://i.pinimg.com/736x/29/76/e3/2976e334ded326d7cec03488972b5005.jpg",
        "is_featured": true
    },
    {
        "id": 43,
        "name": "Continuous Rotation Robot Servo",
        "description": "360-degree continuous rotation servo motor",
        "price": 180.0,
        "category": "Actuators",
        "stock_quantity": 45,
        "image_url": "https://i.pinimg.com/1200x/bb/be/d9/bbbed9dc8ef3e9addf3157f2eb5c494c.jpg",
        "is_featured": false
    },
    {
        "id": 44,
        "name": "Motor Driver Shield",
        "description": "Arduino shield for motor control applications",
        "price": 350.0,
        "category": "Actuators",
        "stock_quantity": 25,
        "image_url": "https://i.pinimg.com/736x/b7/cc/d7/b7ccd715fa879b2464e4455a88a1b569.jpg",
        "is_featured": false
    },
    {
        "id": 45,
        "name": "H-Bridge Motor Control Module",
        "description": "Dual H-bridge motor driver for stepper motors",
        "price": 120.0,
        "category": "Actuators",
        "stock_quantity": 30,
        "image_url": "https://i.pinimg.com/1200x/f1/5c/33/f15c3335d76619c8fb68a75b0a3ff676.jpg",
        "is_featured": false
    },
    {
        "id": 46,
        "name": "Raspberry Pi Zero W",
        "description": "Compact single-board computer with WiFi",
        "price": 1200.0,
        "category": "Microcontrollers",
        "stock_quantity": 35,
        "image_url": "https://i.pinimg.com/1200x/f7/56/7c/f7567c73f08d270f14b0fccf8f7e18bc.jpg",
        "is_featured": false
    },
    {
        "id": 47,
        "name": "Arduino Mega",
        "description": "ATmega2560 microcontroller board",
        "price": 1800.0,
        "category": "Microcontrollers",
        "stock_quantity": 20,
        "image_url": "https://i.pinimg.com/1200x/06/08/de/0608de0634b243a211b38aa0ef742c29.jpg",
        "is_featured": true
    },
    {
        "id": 48,
        "name": "Arduino Nano",
        "description": "Compact ATmega328 microcontroller board",
        "price": 250.0,
        "category": "Microcontrollers",
        "stock_quantity": 50,
        "image_url": "https://i.pinimg.com/736x/a2/6a/8e/a26a8eb43e8d3f28d30ca4e9e5df3c7e.jpg",
        "is_featured": false
    },
    {
        "id": 49,
        "name": "Arduino Due",
        "description": "ARM Cortex-M3 microcontroller board with 32-bit architecture",
        "price": 2200.0,
        "category": "Microcontrollers",
        "stock_quantity": 15,
        "image_url": "https://i.pinimg.com/736x/6d/3d/bf/6d3dbf8d5e143594628d4eb40d64ae93.jpg",
        "is_featured": true
    },
    {
        "id": 50,
        "name": "ESP8266",
        "description": "WiFi enabled microcontroller module",
        "price": 150.0,
        "category": "Microcontrollers",
        "stock_quantity": 60,
        "image_url": "https://i.pinimg.com/1200x/9a/de/f8/9adef8fdfe6b094c40ce148305ebd640.jpg",
        "is_featured": false
    },
    {
        "id": 51,
        "name": "Adafruit Feather M0",
        "description": "ARM Cortex-M0+ microcontroller board with Bluetooth",
        "price": 650.0,
        "category": "Microcontrollers",
        "stock_quantity": 25,
        "image_url": "https://i.pinimg.com/1200x/27/42/d7/2742d764962b3debf7ec4475259071b1.jpg",
        "is_featured": true
    },
    {
        "id": 52,
        "name": "Teensy 4.1",
        "description": "ARM Cortex-M7 microcontroller development board",
        "price": 850.0,
        "category": "Microcontrollers",
        "stock_quantity": 22,
        "image_url": "https://m.media-amazon.com/images/I/41GE3LYUSpL.jpg",
        "is_featured": false
    },
    {
        "id": 53,
        "name": "Banana Pi",
        "description": "Single-board computer with Allwinner A20 processor",
        "price": 2500.0,
        "category": "Microcontrollers",
        "stock_quantity": 12,
        "image_url": "https://m.media-amazon.com/images/I/41nUU4o8GiL.jpg",
        "is_featured": true
    },
    {
        "id": 54,
        "name": "Orange Pi",
        "description": "Single-board computer with H3 processor",
        "price": 1800.0,
        "category": "Microcontrollers",
        "stock_quantity": 18,
        "image_url": "https://m.media-amazon.com/images/I/41qjsxkbRJL.jpg",
        "is_featured": true
    },
    {
        "id": 55,
        "name": "Rain Sensor",
        "description": "Rain detection sensor module",
        "price": 75.0,
        "category": "Sensors",
        "stock_quantity": 55,
        "image_url": "https://i.pinimg.com/736x/ce/c0/d3/cec0d3cf5548a1fbbdbfe666c79d9175.jpg",
        "is_featured": false
    },
    {
        "id": 56,
        "name": "Sound Vibration Sensor",
        "description": "Vibration and sound detection sensor",
        "price": 55.0,
        "category": "Sensors",
        "stock_quantity": 70,
        "image_url": "https://i.pinimg.com/736x/4d/40/6c/4d406c89085fbde96a521b2797ff858e.jpg",
        "is_featured": false
    },
    {
        "id": 57,
        "name": "Color Sensor (TCS34725)",
        "description": "RGB color sensor with IR blocking filter",
        "price": 180.0,
        "category": "Sensors",
        "stock_quantity": 40,
        "image_url": "https://m.media-amazon.com/images/I/41Q-F-oaBjL.jpg",
        "is_featured": false
    },
    {
        "id": 58,
        "name": "Sound Sensor",
        "description": "Microphone sound detection module",
        "price": 45.0,
        "category": "Sensors",
        "stock_quantity": 80,
        "image_url": "https://i.pinimg.com/1200x/32/93/f5/3293f5f14ee3c654bf5a13c3c851303e.jpg",
        "is_featured": false
    },
    {
        "id": 59,
        "name": "Water Level Sensor",
        "description": "Liquid level detection sensor",
        "price": 65.0,
        "category": "Sensors",
        "stock_quantity": 60,
        "image_url": "https://i.pinimg.com/1200x/6d/58/76/6d58764a2d251db90da81810cfd54529.jpg",
        "is_featured": false
    },
    {
        "id": 60,
        "name": "5V Relay Module",
        "description": "Electromagnetic relay module for switching",
        "price": 35.0,
        "category": "Actuators",
        "stock_quantity": 80,
        "image_url": "https://i.pinimg.com/1200x/2b/93/68/2b9368118a4b55c6d9d1097b55edaeb6.jpg",
        "is_featured": false
    },
    {
        "id": 61,
        "name": "Electret Microphone Module",
        "description": "Condenser microphone module for audio input",
        "price": 40.0,
        "category": "Audio Components",
        "stock_quantity": 75,
        "image_url": "https://m.media-amazon.com/images/I/41LF+yoKDGS.jpg",
        "is_featured": false
    },
    {
        "id": 62,
        "name": "Voice Recognition Microphone Board",
        "description": "Advanced voice recognition and processing board",
        "price": 350.0,
        "category": "Audio Components",
        "stock_quantity": 25,
        "image_url": "https://i.pinimg.com/1200x/82/20/cd/8220cd500d80ce85ae112cb743d27c15.jpg",
        "is_featured": false
    },
    {
        "id": 63,
        "name": "Robocraze Speech Recognition Module",
        "description": "Voice command recognition module",
        "price": 450.0,
        "category": "Audio Components",
        "stock_quantity": 20,
        "image_url": "https://m.media-amazon.com/images/I/51-1ruiVkVL.jpg",
        "is_featured": true
    },
    {
        "id": 64,
        "name": "Active Buzzer Module",
        "description": "Electronic buzzer module with built-in oscillator",
        "price": 25.0,
        "category": "Audio Components",
        "stock_quantity": 100,
        "image_url": "https://i.pinimg.com/1200x/43/10/87/431087ed78d6e014a611787cb4ac6963.jpg",
        "is_featured": false
    },
    {
        "id": 65,
        "name": "Passive Buzzer",
        "description": "Piezo buzzer for audio output without oscillator",
        "price": 20.0,
        "category": "Audio Components",
        "stock_quantity": 120,
        "image_url": "https://i.pinimg.com/736x/7d/58/ed/7d58ed71e86237abc1f31b67d8f08639.jpg",
        "is_featured": false
    },
    {
        "id": 68,
        "name": "Infrared Obstacle Sensor",
        "description": "IR proximity sensor for obstacle detection",
        "price": 35.0,
        "category": "Sensors",
        "stock_quantity": 90,
        "image_url": "https://i.pinimg.com/736x/15/fe/19/15fe193153c29952640b42ea92b8ba12.jpg",
        "is_featured": false
    },
    {
        "id": 69,
        "name": "PIR Motion Sensor",
        "description": "Passive infrared motion detector sensor",
        "price": 75.0,
        "category": "Sensors",
        "stock_quantity": 65,
        "image_url": "https://i.pinimg.com/736x/fb/3e/6d/fb3e6d329d4c2356c76c84246ceb1dca.jpg",
        "is_featured": false
    },
    {
        "id": 70,
        "name": "Temperature Sensor (DS18B20)",
        "description": "Digital temperature sensor with 1-wire interface",
        "price": 55.0,
        "category": "Sensors",
        "stock_quantity": 85,
        "image_url": "https://i.pinimg.com/736x/78/8b/ea/788beaacc3994d3b7a80b04aeb6b08ed.jpg",
        "is_featured": false
    },
    {
        "id": 71,
        "name": "Pressure Sensor (BMP280)",
        "description": "Barometric pressure and temperature sensor",
        "price": 120.0,
        "category": "Sensors",
        "stock_quantity": 45,
        "image_url": "https://i.pinimg.com/736x/2c/f3/25/2cf3253970912c9d71827c0754d24b52.jpg",
        "is_featured": false
    },
    {
        "id": 72,
        "name": "Gas Sensor (MQ-2)",
        "description": "Combustible gas and smoke sensor",
        "price": 85.0,
        "category": "Sensors",
        "stock_quantity": 60,
        "image_url": "https://i.pinimg.com/736x/25/45/c7/2545c7432cd113a3d69dab5e25aefe65.jpg",
        "is_featured": false
    },
    {
        "id": 73,
        "name": "Gas Sensor (MQ-135)",
        "description": "Air quality sensor for detecting harmful gases",
        "price": 90.0,
        "category": "Sensors",
        "stock_quantity": 55,
        "image_url": "https://i.pinimg.com/736x/35/3c/cb/353ccbf6dac0d3e6e924149b04651dd1.jpg",
        "is_featured": false
    },
    {
        "id": 74,
        "name": "Light Sensor (LDR)",
        "description": "Light dependent resistor for light intensity measurement",
        "price": 15.0,
        "category": "Sensors",
        "stock_quantity": 150,
        "image_url": "https://i.pinimg.com/736x/2a/29/86/2a29868718c02a045dee1db8eb5d1b03.jpg",
        "is_featured": false
    },
    {
        "id": 75,
        "name": "Touch Sensor",
        "description": "Capacitive touch sensor module",
        "price": 30.0,
        "category": "Sensors",
        "stock_quantity": 95,
        "image_url": "https://i.pinimg.com/736x/29/42/f9/2942f99ba1f9f4c2088a5b53fbf2174c.jpg",
        "is_featured": false
    },
    {
        "id": 76,
        "name": "TFT Screen",
        "description": "2.8 inch TFT LCD color touch screen display",
        "price": 850.0,
        "category": "Displays",
        "stock_quantity": 25,
        "image_url": "https://i.pinimg.com/1200x/e4/d6/fa/e4d6fa1f834a4c26203690590de22ea4.jpg",
        "is_featured": true
    }
];

        // Global variables for filtering and sorting
        let currentCategory = '';
        let currentSort = 'name';
        let currentSearch = '';
        let currentPage = 1;
        let totalPages = 1;

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Static products page loaded at:', window.location.href);

            // Test localStorage
            localStorage.setItem('test_key', 'test_value_' + Date.now());
            console.log('ðŸ§ª localStorage test - set test_key, retrieved:', localStorage.getItem('test_key'));

            initializeUserDisplay();
            loadProducts();
            setupSearchEventListeners();
            updateCartCount(); // Update cart count for current user
        });

        function setupSearchEventListeners() {
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.querySelector('.search-btn');

            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch(this.value);
                    }
                });
            }

            if (searchBtn) {
                searchBtn.addEventListener('click', () => performSearch(searchInput.value));
            }
        }

        function performSearch(query) {
            if (!query.trim()) return;

            currentSearch = query.trim();
            currentCategory = '';
            currentPage = 1;

            loadProducts();
        }

        function loadProducts(page = 1) {
            console.log('Loading products for page:', page);
            currentPage = page;

            // Apply filters
            let filteredProducts = [...ALL_PRODUCTS];

            // Apply category filter
            if (currentCategory && currentCategory !== '') {
                filteredProducts = filteredProducts.filter(product =>
                    product.category.toLowerCase().includes(currentCategory.toLowerCase()) ||
                    product.category === currentCategory
                );
            }

            // Apply search filter
            if (currentSearch) {
                filteredProducts = filteredProducts.filter(product =>
                    product.name.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    product.description.toLowerCase().includes(currentSearch.toLowerCase())
                );
            }

            // Apply sorting
            switch (currentSort) {
                case 'price_low':
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price_high':
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'newest':
                    filteredProducts.sort((a, b) => b.id - a.id);
                    break;
            }

            // Calculate pagination
            const productsPerPage = 6;
            totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            const startIdx = (page - 1) * productsPerPage;
            const endIdx = startIdx + productsPerPage;
            const pageProducts = filteredProducts.slice(startIdx, endIdx);

            // Display products
            displayProducts(pageProducts);

            // Update pagination
            updatePagination();

            // Update results count
            updateResultsCount(filteredProducts.length);
        }

        function displayProducts(products) {
            console.log('Displaying', products.length, 'products');
            const grid = document.getElementById('productsGrid');
            const loading = document.getElementById('loadingContainer');
            const noResults = document.getElementById('noResults');

            if (!grid) {
                console.error('productsGrid element not found!');
                return;
            }

            // Hide loading
            if (loading) loading.style.display = 'none';

            // Show/hide no results
            if (noResults) {
                noResults.style.display = products.length === 0 ? 'block' : 'none';
            }

            grid.innerHTML = '';

            products.forEach((product, index) => {
                const card = document.createElement('div');
                card.className = 'product-card';

                const colors = ['#ff6b35', '#f7931e', '#ff4757', '#ffa502'];
                const colorIndex = product.category ? product.category.length % colors.length : 0;
                const bgColor = colors[colorIndex];

                let html = '<div class="product-image" style="background: linear-gradient(135deg, ' + bgColor + ' 0%, ' + adjustColor(bgColor, -20) + ' 100%)">';

                if (product.image_url) {
                    html += '<img src="' + product.image_url + '" alt="' + product.name + '" loading="lazy" class="product-image-element" onload="this.nextElementSibling.style.display=\'none\';" onerror="this.style.opacity=\'0.3\';" data-has-image="true">';
                }

                html += '<i class="fas fa-' + getCategoryIcon(product.category) + '" style="color: white; font-size: 3rem; opacity: 0.8;"></i>';

                if (product.is_featured) {
                    html += '<div class="product-badge">Sale</div>';
                }
                html += '</div>';

                html += '<div class="product-content">';
                html += '<h3 class="product-title">' + product.name + '</h3>';
                html += '<p class="product-description">' + (product.description || 'High-quality electronics component') + '</p>';

                html += '<div class="product-price">Rs ' + product.price + '<span class="gst-note">(Exc. GST)</span></div>';

                html += '<div class="product-actions">';
                html += '<button class="btn btn-primary btn-small" onclick="addToCart(' + product.id + ')">';
                html += '<i class="fas fa-cart-plus"></i> Add to cart';
                html += '</button>';
                html += '</div>';
                html += '</div>';

                card.innerHTML = html;
                grid.appendChild(card);
            });
        }

        function getCategoryIcon(category) {
            const icons = {
                'Sensors': 'eye',
                'Microcontrollers': 'microchip',
                'Actuators': 'cogs',
                'Communication': 'wifi',
                'Power Supply': 'bolt',
                'Displays': 'tv',
                'Tools & Accessories': 'tools',
                'Audio Components': 'volume-up'
            };
            return icons[category] || 'cube';
        }

        function adjustColor(color, amount) {
            const usePound = color[0] === '#';
            const col = usePound ? color.slice(1) : color;
            const num = parseInt(col, 16);
            let r = (num >> 16) + amount;
            let g = (num >> 8 & 0x00FF) + amount;
            let b = (num & 0x0000FF) + amount;
            r = r > 255 ? 255 : r < 0 ? 0 : r;
            g = g > 255 ? 255 : g < 0 ? 0 : g;
            b = b > 255 ? 255 : g < 0 ? 0 : b;
            return (usePound ? '#' : '') + (r << 16 | g << 8 | b).toString(16);
        }

        function filterByCategory(category) {
            console.log('Filtering by category:', category);
            currentCategory = category;

            // Update active button
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active');
            });

            // Find and activate the clicked button
            const clickedBtn = event.target;
            clickedBtn.classList.add('active');

            // Reload products
            currentPage = 1;
            loadProducts(1);
        }

        function sortProducts() {
            const sortSelect = document.getElementById('sortSelect');
            currentSort = sortSelect.value;
            console.log('Sorting by:', currentSort);
            currentPage = 1;
            loadProducts(1);
        }

        function updatePagination() {
            console.log('Updating pagination - totalPages:', totalPages, 'currentPage:', currentPage);
            const pagination = document.getElementById('pagination');
            const pageNumbers = document.getElementById('pageNumbers');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (totalPages > 1) {
                if (pagination) pagination.style.display = 'flex';
                if (prevBtn) prevBtn.disabled = currentPage <= 1;
                if (nextBtn) {
                    nextBtn.disabled = currentPage >= totalPages;
                    nextBtn.onclick = () => currentPage < totalPages ? goToPage(currentPage + 1) : null;
                }

                if (pageNumbers) {
                    pageNumbers.innerHTML = '';

                    // Show up to 5 pages around current page
                    const startPage = Math.max(1, currentPage - 2);
                    const endPage = Math.min(totalPages, currentPage + 2);

                    // Add first page if not in range
                    if (startPage > 1) {
                        const firstBtn = document.createElement('button');
                        firstBtn.className = 'page-btn';
                        firstBtn.textContent = '1';
                        firstBtn.onclick = () => goToPage(1);
                        pageNumbers.appendChild(firstBtn);

                        if (startPage > 2) {
                            const ellipsis = document.createElement('span');
                            ellipsis.textContent = '...';
                            ellipsis.className = 'page-ellipsis';
                            pageNumbers.appendChild(ellipsis);
                        }
                    }

                    // Add pages around current page
                    for (let i = startPage; i <= endPage; i++) {
                        const pageBtn = document.createElement('button');
                        pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                        pageBtn.textContent = i;
                        pageBtn.onclick = () => goToPage(i);
                        pageNumbers.appendChild(pageBtn);
                    }

                    // Add last page if not in range
                    if (endPage < totalPages) {
                        if (endPage < totalPages - 1) {
                            const ellipsis = document.createElement('span');
                            ellipsis.textContent = '...';
                            ellipsis.className = 'page-ellipsis';
                            pageNumbers.appendChild(ellipsis);
                        }

                        const lastBtn = document.createElement('button');
                        lastBtn.className = 'page-btn';
                        lastBtn.textContent = totalPages;
                        lastBtn.onclick = () => goToPage(totalPages);
                        pageNumbers.appendChild(lastBtn);
                    }
                }
            } else {
                if (pagination) pagination.style.display = 'none';
            }
        }

        function goToPage(page) {
            if (page >= 1 && page <= totalPages) {
                loadProducts(page);
            }
        }

        function addToCart(productId) {
            // Only allow adding to cart if user is logged in
            const userId = sessionStorage.getItem('user_id') || localStorage.getItem('user_id');
            if (!userId) {
                alert('Please login from the home page first to add items to cart!');
                return;
            }

            // Find product details
            const product = ALL_PRODUCTS.find(p => p.id === productId);
            if (!product) {
                alert('Product not found!');
                return;
            }

            // Add to user-specific cart
            addToUserCart(productId, product.name, product.price);
            showNotification(`${product.name} added to cart!`, 'success');
        }

        function addToUserCart(productId, productName, price) {
            // Get user ID - prioritize sessionStorage, fallback to localStorage
            let userId = sessionStorage.getItem('user_id') || localStorage.getItem('user_id');
            console.log('ðŸ›’ addToUserCart called - sessionStorage userId:', sessionStorage.getItem('user_id'), 'localStorage userId:', localStorage.getItem('user_id'), 'product:', productName);

            if (!userId) {
                console.log('âŒ No user ID found, cannot add to cart');
                alert('Please login first to add items to cart!');
                window.location.href = '/Robotech-storeP2/';
                return;
            }

            const cartKey = `cart_user_${userId}`;
            let userCart = JSON.parse(localStorage.getItem(cartKey) || '[]');
            console.log('ðŸ›’ Current cart for user', userId, ':', userCart);

            const existingItem = userCart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
                console.log('ðŸ›’ Increased quantity for existing item:', productName);
            } else {
                userCart.push({
                    id: productId,
                    name: productName,
                    price: price,
                    quantity: 1
                });
                console.log('ðŸ›’ Added new item to cart:', productName);
            }

            localStorage.setItem(cartKey, JSON.stringify(userCart));
            console.log('ðŸ’¾ Saved cart data to localStorage key:', cartKey, 'Data:', JSON.stringify(userCart));

            // Verify the data was saved
            const verifyData = localStorage.getItem(cartKey);
            console.log('ðŸ’¾ Verification - saved to key:', cartKey, 'Data length:', JSON.stringify(userCart).length);
            console.log('ðŸ’¾ Verification - retrieved data:', verifyData);
            console.log('ðŸ’¾ Verification - data matches:', verifyData === JSON.stringify(userCart));

            const allKeys = Object.keys(localStorage);
            console.log('ðŸ’¾ All localStorage keys after save:', allKeys);

            // Check all cart-related keys
            const cartKeys = allKeys.filter(key => key.includes('cart'));
            console.log('ðŸ’¾ Cart-related keys after save:', cartKeys);

            updateCartCount();
            console.log('ðŸ’¾ Saved cart for user', userId, '- total items:', userCart.length);
        }

        function updateCartCount() {
            const userId = sessionStorage.getItem('user_id') || localStorage.getItem('user_id');
            if (!userId) {
                document.getElementById('cartCount').textContent = '0';
                return;
            }

            const cartKey = `cart_user_${userId}`;
            const userCart = JSON.parse(localStorage.getItem(cartKey) || '[]');
            const totalItems = userCart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        function updateResultsCount(count) {
            // Update any results count display if needed
            console.log('Total filtered results:', count);
        }

        function initializeUserDisplay() {
            console.log('products_static.html: initializeUserDisplay called at URL:', window.location.href);

            // Clear any existing session data first to ensure fresh read
            sessionStorage.clear();

            let userId = localStorage.getItem('user_id');
            let phone = localStorage.getItem('phone');
            let isLoggedIn = localStorage.getItem('logged_in') === 'true';

            console.log('products_static.html: localStorage check - userId:', userId, 'phone:', phone, 'loggedIn:', localStorage.getItem('logged_in'));
            console.log('products_static.html: sessionStorage cleared and re-reading from localStorage');
            console.log('products_static.html: All localStorage keys:', Object.keys(localStorage));

            // If user is logged in but we want to ensure consistency, check phone mapping
            if (userId && phone && isLoggedIn) {
                const mappedPhone = localStorage.getItem('phone_' + userId);
                if (mappedPhone && mappedPhone !== phone) {
                    console.log('products_static.html: âš ï¸ Phone mismatch detected, using stored mapping');
                    phone = mappedPhone;
                    localStorage.setItem('phone', phone);
                }
            }

            const loginTextElement = document.getElementById('loginText');
            if (loginTextElement) {
                if (userId && phone && isLoggedIn) {
                    loginTextElement.textContent = 'My User ID: ' + userId;
                    console.log('products_static.html: âœ… User found in storage:', userId, 'Phone:', phone);

            // Clean up any old cart data that doesn't belong to this user
            cleanupOldCartData(userId);

            // Sync to sessionStorage for current session
            sessionStorage.setItem('user_id', userId);
            sessionStorage.setItem('phone', phone);
            sessionStorage.setItem('logged_in', 'true');
                } else {
                    // For GitHub Pages, if no user is logged in, redirect to home
                    console.log('products_static.html: âŒ No user logged in, redirecting to home');
                    alert('Please login first from the home page!');
                    window.location.href = '/Robotech-storeP2/';
                    return;
                }
            } else {
                console.error('products_static.html: loginText element not found!');
            }
        }

        function cleanupOldCartData(currentUserId) {
            const allKeys = Object.keys(localStorage);
            const oldCartKeys = allKeys.filter(key => {
                return key.startsWith('cart') && key !== `cart_user_${currentUserId}`;
            });

            oldCartKeys.forEach(key => {
                console.log('ðŸ§¹ Cleaning up old cart data:', key);
                localStorage.removeItem(key);
            });

            if (oldCartKeys.length > 0) {
                console.log('ðŸ§¹ Cleaned up', oldCartKeys.length, 'old cart entries');
            }
        }
    </script>
</body>
</html>